# webpack-middleware-swagger-faker

Tool for generation [`webpack middleware`](https://webpack.js.org/configuration/dev-server/#devserversetupmiddlewares) for [`webpack-dev-server`](https://webpack.js.org/configuration/dev-server) with mock-data by swagger

[`original package: swagger-faker`](https://github.com/reeli/swagger-faker)


The main difference is that you can now use `swagger-faker` in webpack-dev-server middlewares

1) create: index.js
```
var wmsf = require('webpack-middleware-swagger-faker');

wmsf.run({
    "sourcePaths": ["./openapi.json"], <- path to json swagger file (yaml support)
    "outputFolder": "mock-server" <- path to folder for output files
});
```

2) run: node index.js

```
// output files in "outputFolder":
folder "data" contains *.json <- autogenerated mocks for each OperationId
folder "middlewares": contains *.js <- autogenerated middlewares for each OperationId
```

3) use in webpack devServer configuration:
```
const mockMiddlewares = require('"outputFolder"/middlewares')

devServer:{
    setupMiddlewares: (middlewares, devServer) => {
      if (!devServer) {
        throw new Error('webpack-dev-server is not defined');
      }
      
      middlewares.unshift(mockMiddlewares.OperationId)

      return middlewares;
    }
}
```
4. feel the magic
